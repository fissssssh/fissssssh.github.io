[{"content":"å¼•è¨€ æœ‰æ—¶å€™æˆ‘ä»¬å¯èƒ½æƒ³åœ¨æ¥å£ä¸­å¼€å¯ä¸€ä¸ªåå°ä»»åŠ¡ï¼Œå°±åƒè¿™æ ·:\npublic class MyController : Controller { private readonly MyDependency _dep; public MyController(MyDependency d) { _dep = d; } public IActionResult MyAction() { Task.Run(() =\u0026gt; _dep.DoHeavyAsyncWork()); return Json(\u0026#34;Your job is started!\u0026#34;); } } äº‹å®ä¸Šï¼Œè¿™æ®µä»£ç å¾ˆç¬¦åˆè¯­ä¹‰ï¼Œæ¥å£ä¹Ÿèƒ½æˆåŠŸè¿”å›ã€‚ ä½†æ˜¯å…¶ä¸­æœ‰ä¸€ä¸ªæ½œåœ¨é—®é¢˜ï¼Œéšç€returnè¯­å¥å“åº”æœ¬æ¬¡è¯·æ±‚ï¼ŒASP.NET Coreä¼šå¼€å§‹é‡Šæ”¾æœ¬æ¬¡è¯·æ±‚çš„ä¾èµ–ï¼Œæ¯”å¦‚æ§åˆ¶å™¨å’Œæ§åˆ¶å™¨ä¾èµ–çš„å„ç§æœåŠ¡â€¦â€¦ï¼Œè¿™å°±ä¼šå¯¼è‡´Task.Runè¯­å¥ä¸­çš„æ‰€ä¾èµ–çš„å®šä¹‰åœ¨æ§åˆ¶å™¨ä¸­çš„æœåŠ¡ä¼šè¢«é‡Šæ”¾æ‰ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´ä¸€äº›æœªçŸ¥çš„é—®é¢˜ã€‚è¿™äº›æ½œåœ¨é—®é¢˜å¯èƒ½ä¼šè®©ä½ çš„åº”ç”¨ç¨‹åºéšæ—¶çˆ†ç‚¸ï¼\nè®©åå°ä»»åŠ¡æ‹¥æœ‰è‡ªå·±çš„ç”Ÿå­˜æœŸ ä¸ºäº†ä¿è¯åå°æœåŠ¡çš„ä¾èµ–ä¸éšæ§åˆ¶å™¨é‡Šæ”¾è€Œé‡Šæ”¾ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªæ–°çš„æœåŠ¡å¹¶å°†å…¶æ³¨å†Œä¸ºå•ä¾‹æœåŠ¡ï¼Œå› ä¸ºå•ä¾‹æœåŠ¡æ°¸è¿œä¸ä¼šè¢«é‡Šæ”¾ã€‚\nåˆ›å»ºä¸€ä¸ªåä¸ºCannonServiceçš„ç±»\nCannonService.cs\npublic class CannonService { private readonly ILogger\u0026lt;CannonService\u0026gt; _logger; private readonly IServiceProvider _serviceProvider; public CannonService(ILogger\u0026lt;CannonService\u0026gt; logger, IServiceProvider serviceProvider) { _logger = logger; _serviceProvider = serviceProvider; } public void Fire(Delegate dg, Action\u0026lt;Exception\u0026gt;? exceptionHandler = null) { if (dg == null) { return; } Task.Run(async () =\u0026gt; { // é€šè¿‡åå°„è·å–å§”æ‰˜çš„å‚æ•°åˆ—è¡¨ var parameterTypes = dg.Method.GetParameters().Select(x =\u0026gt; x.ParameterType).ToArray(); var parameters = ArrayPool\u0026lt;object\u0026gt;.Shared.Rent(parameterTypes.Length); try { // åˆ›å»ºä¸€ä¸ªscope using var scope = _serviceProvider.CreateScope(); // è·å–å§”æ‰˜çš„å‚æ•°å®ä¾‹ for (var i = 0; i \u0026lt; parameterTypes.Length; i++) { var t = parameterTypes[i]; parameters[i] = scope.ServiceProvider.GetRequiredService(t); } // åˆ¤æ–­å§”æ‰˜æ˜¯æ˜¯å¼‚æ­¥è¿˜æ˜¯åŒæ­¥ var returnType = dg.Method.ReturnType; if (returnType.IsAssignableTo(typeof(Task))) { await (Task)dg.DynamicInvoke(parameters.Take(parameterTypes.Length).ToArray())!; } else { dg.DynamicInvoke(parameters.Take(parameterTypes.Length).ToArray()); } } catch (Exception e) { _logger.LogError(e, \u0026#34;Fire boom!\u0026#34;); exceptionHandler?.Invoke(e); } finally { ArrayPool\u0026lt;object\u0026gt;.Shared.Return(parameters, true); } }); } } å°†CannonServiceæ³¨å†Œä¸ºå•ä¾‹æœåŠ¡ Program.cs\nbuilder.Services.AddSingleton\u0026lt;CannonService\u0026gt;(); åœ¨éœ€è¦çš„åœ°æ–¹æ³¨å…¥è¯¥æœåŠ¡å¹¶ä½¿ç”¨\nè§¦å‘åŒæ­¥æ–¹æ³•\n_cannonService.Fire((SomeService someService) =\u0026gt; { someService.From = nameof(CannonService); someService.DoSomething(); }); è§¦å‘å¼‚æ­¥æ–¹æ³•\n_cannonService.Fire(async (SomeService someService) =\u0026gt; { someService.From = nameof(CannonService); await Task.Delay(timeout); someService.DoSomething(); }); ç¤ºä¾‹ SomeService.cs\nnamespace RunTaskInBackground.Demo { public class SomeService : IDisposable { private readonly ILogger\u0026lt;SomeService\u0026gt; _logger; private bool disposedValue; public string From { get; set; } = null!; public SomeService(ILogger\u0026lt;SomeService\u0026gt; logger) { _logger = logger; } public void DoSomething() { CheckIfClosedThrowDisposed(); _logger.LogInformation(\u0026#34;æˆ‘ä»{From}æ¥çš„ï¼Œæˆ‘åœ¨å¹²æ´»ï¼\u0026#34;, From); } void CheckIfClosedThrowDisposed() { if (disposedValue) throw new ObjectDisposedException(null, \u0026#34;æˆ‘æ­‡é€¼äº†ï¼Œåˆ«å«æˆ‘ï¼\u0026#34;); } protected virtual void Dispose(bool disposing) { if (!disposedValue) { if (disposing) { if (!string.IsNullOrEmpty(From)) { _logger.LogInformation(\u0026#34;æˆ‘ä»{From}æ¥çš„ï¼Œæˆ‘æ­‡é€¼äº†ï¼\u0026#34;, From); } else { _logger.LogInformation(\u0026#34;æˆ‘æ²¡æœ‰ğŸï¼Œæˆ‘æ­‡é€¼äº†ï¼\u0026#34;); } } disposedValue = true; } } public void Dispose() { Dispose(disposing: true); GC.SuppressFinalize(this); } } } Program.cs\nusing RunTaskInBackground.Demo; var builder = WebApplication.CreateBuilder(args); // Add services to the container. builder.Services.AddControllers(); // Learn more about configuring Swagger/OpenAPI at https://aka.ms/aspnetcore/swashbuckle builder.Services.AddEndpointsApiExplorer(); builder.Services.AddSwaggerGen(); builder.Services.AddSingleton\u0026lt;CannonService\u0026gt;(); builder.Services.AddScoped\u0026lt;SomeService\u0026gt;(); var app = builder.Build(); // Configure the HTTP request pipeline. if (app.Environment.IsDevelopment()) { app.UseSwagger(); app.UseSwaggerUI(); } app.UseAuthorization(); app.MapControllers(); app.Run(); HomeController.cs\nusing Microsoft.AspNetCore.Mvc; namespace RunTaskInBackground.Demo.Controllers { [ApiController] [Route(\u0026#34;[controller]\u0026#34;)] public class HomeController : ControllerBase { private readonly ILogger\u0026lt;HomeController\u0026gt; _logger; private readonly CannonService _cannonService; private readonly SomeService _someService; public HomeController(ILogger\u0026lt;HomeController\u0026gt; logger, CannonService cannonService, SomeService someService) { _logger = logger; _cannonService = cannonService; _someService = someService; _someService.From = nameof(HomeController); } [HttpGet] [Route(\u0026#34;Async\u0026#34;)] public IActionResult RunAsync(int timeout = 1000) { _cannonService.Fire(async (SomeService someService) =\u0026gt; { someService.From = nameof(CannonService); await Task.Delay(timeout); someService.DoSomething(); }); return Ok(); } [HttpGet] [Route(\u0026#34;AsyncBoom\u0026#34;)] public IActionResult RunAsyncBoom(int timeout = 1000) { _cannonService.Fire(async () =\u0026gt; { await Task.Delay(timeout); _someService.DoSomething(); }); return Ok(); } [HttpGet] [Route(\u0026#34;Sync\u0026#34;)] public IActionResult RunSync() { _cannonService.Fire((SomeService someService) =\u0026gt; { someService.From = nameof(CannonService); someService.DoSomething(); }); return Ok(); } } } åœ¨ swagger ä¸­åˆ†åˆ«è°ƒç”¨ Syncï¼ŒAsyncï¼ŒAsyncBoom æ¥å£ï¼Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\nå‚è€ƒ Anduin Xue.Fire and forget in ASP.NET Core with dependency alive[EB/OL].(2020-10-14)[2022-06-27].https://anduin.aiursoft.com/post/2020/10/14/fire-and-forget-in-aspnet-core-with-dependency-alive é™„ å®Œæ•´ Demo åœ°å€ ","permalink":"https://fissssssh.com/posts/how-to-start-backgroud-task-in-asp_net_core_webapi/","summary":"å¼•è¨€ æœ‰æ—¶å€™æˆ‘ä»¬å¯èƒ½æƒ³åœ¨æ¥å£ä¸­å¼€å¯ä¸€ä¸ªåå°ä»»åŠ¡ï¼Œå°±åƒè¿™æ ·:\npublic class MyController : Controller { private readonly MyDependency _dep; public MyController(MyDependency d) { _dep = d; } public IActionResult MyAction() { Task.Run(() =\u0026gt; _dep.DoHeavyAsyncWork()); return Json(\u0026#34;Your job is started!\u0026#34;); } } äº‹å®ä¸Šï¼Œè¿™æ®µä»£ç å¾ˆç¬¦åˆè¯­ä¹‰ï¼Œæ¥å£ä¹Ÿèƒ½æˆåŠŸè¿”å›ã€‚ ä½†æ˜¯å…¶ä¸­æœ‰ä¸€ä¸ªæ½œåœ¨é—®é¢˜ï¼Œéšç€returnè¯­å¥å“åº”æœ¬æ¬¡è¯·æ±‚ï¼ŒASP.NET Coreä¼šå¼€å§‹é‡Šæ”¾æœ¬æ¬¡è¯·æ±‚çš„ä¾èµ–ï¼Œæ¯”å¦‚æ§åˆ¶å™¨å’Œæ§åˆ¶å™¨ä¾èµ–çš„å„ç§æœåŠ¡â€¦â€¦ï¼Œè¿™å°±ä¼šå¯¼è‡´Task.Runè¯­å¥ä¸­çš„æ‰€ä¾èµ–çš„å®šä¹‰åœ¨æ§åˆ¶å™¨ä¸­çš„æœåŠ¡ä¼šè¢«é‡Šæ”¾æ‰ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´ä¸€äº›æœªçŸ¥çš„é—®é¢˜ã€‚è¿™äº›æ½œåœ¨é—®é¢˜å¯èƒ½ä¼šè®©ä½ çš„åº”ç”¨ç¨‹åºéšæ—¶çˆ†ç‚¸ï¼\nè®©åå°ä»»åŠ¡æ‹¥æœ‰è‡ªå·±çš„ç”Ÿå­˜æœŸ ä¸ºäº†ä¿è¯åå°æœåŠ¡çš„ä¾èµ–ä¸éšæ§åˆ¶å™¨é‡Šæ”¾è€Œé‡Šæ”¾ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªæ–°çš„æœåŠ¡å¹¶å°†å…¶æ³¨å†Œä¸ºå•ä¾‹æœåŠ¡ï¼Œå› ä¸ºå•ä¾‹æœåŠ¡æ°¸è¿œä¸ä¼šè¢«é‡Šæ”¾ã€‚\nåˆ›å»ºä¸€ä¸ªåä¸ºCannonServiceçš„ç±»\nCannonService.cs\npublic class CannonService { private readonly ILogger\u0026lt;CannonService\u0026gt; _logger; private readonly IServiceProvider _serviceProvider; public CannonService(ILogger\u0026lt;CannonService\u0026gt; logger, IServiceProvider serviceProvider) { _logger = logger; _serviceProvider = serviceProvider; } public void Fire(Delegate dg, Action\u0026lt;Exception\u0026gt;?","title":"å¦‚ä½•åœ¨ ASP.NET Core WEB API ä¸­å¯åŠ¨åå°ä»»åŠ¡"},{"content":" Anduin Xue let today = new Beginning(); ","permalink":"https://fissssssh.com/links/","summary":" Anduin Xue let today = new Beginning(); ","title":"Links"},{"content":"Create a docker-compose.yml version: \u0026#34;3.9\u0026#34; services: redis-1: image: redis:7.0.2-alpine container_name: redis-1 ports: - \u0026#34;6371:6371\u0026#34; - \u0026#34;16371:16371\u0026#34; volumes: - ./node-1/data:/data - ./node-1/conf/redis.conf:/etc/redis/redis.conf networks: redis: ipv4_address: 172.28.0.11 command: - \u0026#34;redis-server\u0026#34; - \u0026#34;/etc/redis/redis.conf\u0026#34; redis-2: image: redis:7.0.2-alpine container_name: redis-2 ports: - \u0026#34;6372:6372\u0026#34; - \u0026#34;16372:16372\u0026#34; volumes: - ./node-2/data:/data - ./node-2/conf/redis.conf:/etc/redis/redis.conf networks: redis: ipv4_address: 172.28.0.12 command: - \u0026#34;redis-server\u0026#34; - \u0026#34;/etc/redis/redis.conf\u0026#34; redis-3: image: redis:7.0.2-alpine container_name: redis-3 ports: - \u0026#34;6373:6373\u0026#34; - \u0026#34;16373:16373\u0026#34; volumes: - ./node-3/data:/data - ./node-3/conf/redis.conf:/etc/redis/redis.conf networks: redis: ipv4_address: 172.28.0.13 command: - \u0026#34;redis-server\u0026#34; - \u0026#34;/etc/redis/redis.conf\u0026#34; redis-4: image: redis:7.0.2-alpine container_name: redis-4 ports: - \u0026#34;6374:6374\u0026#34; - \u0026#34;16374:16374\u0026#34; volumes: - ./node-4/data:/data - ./node-4/conf/redis.conf:/etc/redis/redis.conf networks: redis: ipv4_address: 172.28.0.14 command: - \u0026#34;redis-server\u0026#34; - \u0026#34;/etc/redis/redis.conf\u0026#34; redis-5: image: redis:7.0.2-alpine container_name: redis-5 ports: - \u0026#34;6375:6375\u0026#34; - \u0026#34;16375:16375\u0026#34; volumes: - ./node-5/data:/data - ./node-5/conf/redis.conf:/etc/redis/redis.conf networks: redis: ipv4_address: 172.28.0.15 command: - \u0026#34;redis-server\u0026#34; - \u0026#34;/etc/redis/redis.conf\u0026#34; redis-6: image: redis:7.0.2-alpine container_name: redis-6 ports: - \u0026#34;6376:6376\u0026#34; - \u0026#34;16376:16376\u0026#34; volumes: - ./node-6/data:/data - ./node-6/conf/redis.conf:/etc/redis/redis.conf networks: redis: ipv4_address: 172.28.0.16 command: - \u0026#34;redis-server\u0026#34; - \u0026#34;/etc/redis/redis.conf\u0026#34; redis-cluster: image: redis:7.0.2-alpine networks: redis: ipv4_address: 172.28.0.17 depends_on: - redis-1 - redis-2 - redis-3 - redis-4 - redis-5 - redis-6 command: - \u0026#34;redis-cli\u0026#34; - \u0026#34;--cluster\u0026#34; - \u0026#34;create\u0026#34; - \u0026#34;172.28.0.11:6371\u0026#34; - \u0026#34;172.28.0.12:6372\u0026#34; - \u0026#34;172.28.0.13:6373\u0026#34; - \u0026#34;172.28.0.14:6374\u0026#34; - \u0026#34;172.28.0.15:6375\u0026#34; - \u0026#34;172.28.0.16:6376\u0026#34; - \u0026#34;--cluster-replicas\u0026#34; - \u0026#34;1\u0026#34; - \u0026#34;--cluster-yes\u0026#34; networks: redis: ipam: config: - subnet: \u0026#34;172.28.0.0/16\u0026#34; There has a container named redis-cluster, the container is for create cluster for redis nodes, if you dont like this, you can enter any redis node container and execute the following command\nredis-cli --cluster create \\ 172.28.0.11:6371 \\ 172.28.0.12:6372 \\ 172.28.0.13:6373 \\ 172.28.0.14:6374 \\ 172.28.0.15:6375 \\ 172.28.0.16:6376 \\ --cluster-replicas 1 --cluster-yes Create config files for every redis node Run the following commands to create config files\nfor port in $(seq 1 6); \\ do \\ mkdir -p ./node-${port}/conf touch ./node-${port}/conf/redis.conf cat \u0026lt;\u0026lt; EOF \u0026gt; ./node-${port}/conf/redis.conf port 637${port} bind 0.0.0.0 cluster-enabled yes cluster-config-file nodes.conf cluster-node-timeout 5000 cluster-announce-ip \u0026lt;your_external_ip\u0026gt; cluster-announce-port 637${port} cluster-announce-bus-port 1637${port} appendonly yes EOF done You can change port range if nesscessary\nfor port in $(seq 1 6); \\ ... -port 637${port} +port \u0026lt;port_prefix\u0026gt;${port} ... -cluster-announce-port 637${port} -cluster-announce-bus-port 1637${port} +cluster-announce-port \u0026lt;port_prefix\u0026gt;${port} +cluster-announce-bus-port \u0026lt;cluster_announce_bus_port_prefix\u0026gt;${port} ... done It also need to change docker-compose.yml\nversion: \u0026#34;3.9\u0026#34; services: redis-1: ... ports: - - \u0026#34;6371:6371\u0026#34; - - \u0026#34;16371:16371\u0026#34; + - \u0026#34;\u0026lt;port_prefix\u0026gt;1:\u0026lt;port_prefix\u0026gt;1\u0026#34; + - \u0026#34;\u0026lt;cluster_announce_bus_port_prefix\u0026gt;1:\u0026lt;cluster_announce_bus_port_prefix\u0026gt;1\u0026#34; ... redis-2: ... ports: - - \u0026#34;6372:6372\u0026#34; - - \u0026#34;16372:16372\u0026#34; + - \u0026#34;\u0026lt;port_prefix\u0026gt;:\u0026lt;port_prefix\u0026gt;\u0026#34; + - \u0026#34;\u0026lt;cluster_announce_bus_port_prefix\u0026gt;2:\u0026lt;cluster_announce_bus_port_prefix\u0026gt;2\u0026#34; ... redis-3: ... ports: - - \u0026#34;6373:6373\u0026#34; - - \u0026#34;16373:16373\u0026#34; + - \u0026#34;\u0026lt;port_prefix\u0026gt;3:\u0026lt;port_prefix\u0026gt;3\u0026#34; + - \u0026#34;\u0026lt;cluster_announce_bus_port_prefix\u0026gt;3:\u0026lt;cluster_announce_bus_port_prefix\u0026gt;3\u0026#34; ... redis-4: ... ports: - - \u0026#34;6374:6374\u0026#34; - - \u0026#34;16374:16374\u0026#34; + - \u0026#34;\u0026lt;port_prefix\u0026gt;4:\u0026lt;port_prefix\u0026gt;4\u0026#34; + - \u0026#34;\u0026lt;cluster_announce_bus_port_prefix\u0026gt;4:\u0026lt;cluster_announce_bus_port_prefix\u0026gt;4\u0026#34; ... redis-5: ... ports: - - \u0026#34;6375:6375\u0026#34; - - \u0026#34;16375:16375\u0026#34; + - \u0026#34;\u0026lt;port_prefix\u0026gt;5:\u0026lt;port_prefix\u0026gt;5\u0026#34; + - \u0026#34;\u0026lt;cluster_announce_bus_port_prefix\u0026gt;5:\u0026lt;cluster_announce_bus_port_prefix\u0026gt;5\u0026#34; ... redis-6: ... ports: - - \u0026#34;6376:6376\u0026#34; - - \u0026#34;16376:16376\u0026#34; + - \u0026#34;\u0026lt;port_prefix\u0026gt;6:\u0026lt;port_prefix\u0026gt;6\u0026#34; + - \u0026#34;\u0026lt;cluster_announce_bus_port_prefix\u0026gt;6:\u0026lt;cluster_announce_bus_port_prefix\u0026gt;6\u0026#34; ... redis-cluster: ... command: ... - - \u0026#34;172.28.0.11:6371\u0026#34; - - \u0026#34;172.28.0.12:6372\u0026#34; - - \u0026#34;172.28.0.13:6373\u0026#34; - - \u0026#34;172.28.0.14:6374\u0026#34; - - \u0026#34;172.28.0.15:6375\u0026#34; - - \u0026#34;172.28.0.16:6376\u0026#34; + - \u0026#34;172.28.0.11:\u0026lt;port_prefix\u0026gt;1\u0026#34; + - \u0026#34;172.28.0.12:\u0026lt;port_prefix\u0026gt;2\u0026#34; + - \u0026#34;172.28.0.13:\u0026lt;port_prefix\u0026gt;3\u0026#34; + - \u0026#34;172.28.0.14:\u0026lt;port_prefix\u0026gt;4\u0026#34; + - \u0026#34;172.28.0.15:\u0026lt;port_prefix\u0026gt;5\u0026#34; + - \u0026#34;172.28.0.16:\u0026lt;port_prefix\u0026gt;6\u0026#34; ... Start redis cluster Just run command docker-compose up -d.\n","permalink":"https://fissssssh.com/posts/create-redis-cluster-by-docker-compose/","summary":"Create a docker-compose.yml version: \u0026#34;3.9\u0026#34; services: redis-1: image: redis:7.0.2-alpine container_name: redis-1 ports: - \u0026#34;6371:6371\u0026#34; - \u0026#34;16371:16371\u0026#34; volumes: - ./node-1/data:/data - ./node-1/conf/redis.conf:/etc/redis/redis.conf networks: redis: ipv4_address: 172.28.0.11 command: - \u0026#34;redis-server\u0026#34; - \u0026#34;/etc/redis/redis.conf\u0026#34; redis-2: image: redis:7.0.2-alpine container_name: redis-2 ports: - \u0026#34;6372:6372\u0026#34; - \u0026#34;16372:16372\u0026#34; volumes: - ./node-2/data:/data - ./node-2/conf/redis.conf:/etc/redis/redis.conf networks: redis: ipv4_address: 172.28.0.12 command: - \u0026#34;redis-server\u0026#34; - \u0026#34;/etc/redis/redis.conf\u0026#34; redis-3: image: redis:7.0.2-alpine container_name: redis-3 ports: - \u0026#34;6373:6373\u0026#34; - \u0026#34;16373:16373\u0026#34; volumes: - ./node-3/data:/data - ./node-3/conf/redis.conf:/etc/redis/redis.conf networks: redis: ipv4_address: 172.","title":"Create Redis Cluster by Docker Compose"},{"content":"é—®é¢˜æè¿° è¿‘æ—¥æˆ‘ä½¿ç”¨ hugo æ„å»ºäº†æˆ‘çš„åšå®¢ï¼Œå¹¶é€šè¿‡ Github Action å°†å…¶å‘å¸ƒåœ¨ Github Pages ä¸Šï¼Œåˆšå¼€å§‹è¿˜æ˜¯å¾ˆç¾å¥½çš„ï¼Œä½†æ˜¯è¿‡ä¸€çŸ­æ—¶é—´ä»¥åæ‰“å¼€é¡µé¢å‘ç°æ ·å¼å…¨æ— ï¼Œä½¿ç”¨æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·æŸ¥çœ‹èµ„æºè·å–æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯åœ¨æ§åˆ¶å°å´å‡ºç°äº†è¿™æ ·ä¸€å¥è¯ï¼š\nFailed to find a valid digest in the \u0026#39;integrity\u0026#39; attribute for resource \u0026#39;***\u0026#39; with computed SHA-256 integrity \u0026#39;***\u0026#39;. The resource has been blocked. å¯»æ‰¾åŸå›  æˆ‘åœ¨ MDN ä¸Šå¯»æ‰¾åˆ°äº†å…³äº integrity çš„å®šä¹‰ï¼Œå¤§æ¦‚æè¿°å°±æ˜¯è¿™æ˜¯ä¸€ä¸ªç­¾åï¼Œæµè§ˆå™¨è·å–åˆ°ç›¸åº”èµ„æºåä¼šç”¨ç›¸åŒçš„æ–¹æ³•è®¡ç®—ä¸€ä¸ªç­¾åï¼Œåªæœ‰ç­¾åç›¸åŒæ—¶æ‰ä¼šåŠ è½½å¯¹åº”çš„èµ„æºï¼Œå¦‚æœä¸¤ä¸ªç­¾åä¸ä¸€è‡´åˆ™æ˜¯æ–‡ä»¶å®Œæ•´æ€§è¢«ç ´åï¼ˆæ–‡ä»¶å‘ç”Ÿäº†æ”¹å˜ï¼‰ã€‚\né—®é¢˜æ¥äº†ï¼Œæ•´ä¸ªå‘å¸ƒè¿‡ç¨‹æ˜¯ç”± Github Action å…¨è‡ªåŠ¨æ“ä½œçš„ï¼Œæ²¡æœ‰äººä¸ºå¹²é¢„ï¼Œæ–‡ä»¶ä¸ºä½•ä¼šæ— ç¼˜æ— æ•…æ”¹å˜å‘¢ï¼Ÿ\nç­”æ¡ˆæ˜¯ Cloudflareã€‚ Cloudflare ä¸­é»˜è®¤ä¼šå¼€å¯é™æ€èµ„æºçš„ç¼“å­˜æ¥æé«˜ç½‘ç«™çš„åŠ è½½é€Ÿåº¦ï¼Œå¯æ˜¯ä¸ºä»€ä¹ˆç¼“å­˜ä¼šæ”¹å˜æ–‡ä»¶å‘¢ï¼Ÿç¼“å­˜å¹¶ä¸ä¼šæ”¹å˜æ–‡ä»¶ï¼Œåœ¨ Cloudflare çš„ Speed \u0026gt; Optimization ä¸­æœ‰ä¸€ä¸ªå« Auto Minify çš„é€‰é¡¹ï¼Œæè¿°å¦‚ä¸‹ï¼š\nReduce the file size of source code on your website.\nNote: Purge cache to have your change take effect immediately.\nè¿™å¥è¯ç¿»è¯‘è¿‡æ¥å°±æ˜¯ å‡å°ç½‘ç«™æºä»£ç æ–‡ä»¶ä½“ç§¯çš„å¤§å° ï¼ŒåŒæ—¶è¯¥é€‰é¡¹æœ‰ 3 ä¸ªå­é€‰é¡¹ï¼š\nJavaScript CSS HTML é»˜è®¤éƒ½æ˜¯é€‰ä¸­çŠ¶æ€ï¼Œå³é»˜è®¤ä¼šå‹ç¼©æˆ‘ä»¬çš„ jsï¼Œcss å’Œ html æ–‡ä»¶ã€‚\nè§£å†³é—®é¢˜ å› ä¸ºæˆ‘ä»¬ç½‘ç«™æ˜¯ css æ–‡ä»¶çš„ç­¾åéªŒè¯å‡ºç°äº†é—®é¢˜ï¼Œå› æ­¤æˆ‘ä»¬å–æ¶ˆ Auto Minify ä¸‹é¢çš„ Css é€‰é¡¹ï¼Œç„¶ååœ¨Caching \u0026gt; Configuration ä¸­ç‚¹å‡» Purge Cache æ¸…é™¤ç¼“å­˜ï¼Œå›åˆ°ç½‘ç«™ä½¿ç”¨ ctrl + F5 å¼ºåˆ¶åˆ·æ–°ç½‘é¡µï¼Œé—®é¢˜è§£å†³ã€‚\nå…¶ä»–è§£å†³æ–¹æ¡ˆ æˆ‘ä½¿ç”¨çš„æ˜¯ PaperMod ä¸»é¢˜ï¼Œå¯ä»¥å°†ä¸»é¢˜æ–‡ä»¶ layouts/partials/head.html ä¸­ css å¼•ç”¨éƒ¨åˆ†çš„ integrity å±æ€§å»é™¤ï¼ŒåŒæ ·å¯ä»¥è§£å†³ï¼Œä½†æˆ‘è§‰å¾—ä¸»é¢˜æ¯•ç«Ÿæ˜¯ç¬¬ä¸‰æ–¹åº“ï¼Œåœ¨éå¿…è¦æƒ…å†µä¸‹ä¸è¦ä¿®æ”¹ç¬¬ä¸‰æ–¹åº“ã€‚\n- \u0026lt;link crossorigin=\u0026#34;anonymous\u0026#34; href=\u0026#34;{{ $stylesheet.RelPermalink }}\u0026#34; integrity=\u0026#34;{{ $stylesheet.Data.Integrity }}\u0026#34; rel=\u0026#34;preload stylesheet\u0026#34; as=\u0026#34;style\u0026#34;\u0026gt; + \u0026lt;link crossorigin=\u0026#34;anonymous\u0026#34; href=\u0026#34;{{ $stylesheet.RelPermalink }}\u0026#34; rel=\u0026#34;preload stylesheet\u0026#34; as=\u0026#34;style\u0026#34;\u0026gt; ç»“æŸè¯­ é‡åˆ°å›°éš¾ä»”ç»†åˆ†æï¼Œç»ˆä¼šè¿åˆƒè€Œè§£ã€‚\n","permalink":"https://fissssssh.com/posts/css-integrity-error-when-load-hugo-publish/","summary":"é—®é¢˜æè¿° è¿‘æ—¥æˆ‘ä½¿ç”¨ hugo æ„å»ºäº†æˆ‘çš„åšå®¢ï¼Œå¹¶é€šè¿‡ Github Action å°†å…¶å‘å¸ƒåœ¨ Github Pages ä¸Šï¼Œåˆšå¼€å§‹è¿˜æ˜¯å¾ˆç¾å¥½çš„ï¼Œä½†æ˜¯è¿‡ä¸€çŸ­æ—¶é—´ä»¥åæ‰“å¼€é¡µé¢å‘ç°æ ·å¼å…¨æ— ï¼Œä½¿ç”¨æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·æŸ¥çœ‹èµ„æºè·å–æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯åœ¨æ§åˆ¶å°å´å‡ºç°äº†è¿™æ ·ä¸€å¥è¯ï¼š\nFailed to find a valid digest in the \u0026#39;integrity\u0026#39; attribute for resource \u0026#39;***\u0026#39; with computed SHA-256 integrity \u0026#39;***\u0026#39;. The resource has been blocked. å¯»æ‰¾åŸå›  æˆ‘åœ¨ MDN ä¸Šå¯»æ‰¾åˆ°äº†å…³äº integrity çš„å®šä¹‰ï¼Œå¤§æ¦‚æè¿°å°±æ˜¯è¿™æ˜¯ä¸€ä¸ªç­¾åï¼Œæµè§ˆå™¨è·å–åˆ°ç›¸åº”èµ„æºåä¼šç”¨ç›¸åŒçš„æ–¹æ³•è®¡ç®—ä¸€ä¸ªç­¾åï¼Œåªæœ‰ç­¾åç›¸åŒæ—¶æ‰ä¼šåŠ è½½å¯¹åº”çš„èµ„æºï¼Œå¦‚æœä¸¤ä¸ªç­¾åä¸ä¸€è‡´åˆ™æ˜¯æ–‡ä»¶å®Œæ•´æ€§è¢«ç ´åï¼ˆæ–‡ä»¶å‘ç”Ÿäº†æ”¹å˜ï¼‰ã€‚\né—®é¢˜æ¥äº†ï¼Œæ•´ä¸ªå‘å¸ƒè¿‡ç¨‹æ˜¯ç”± Github Action å…¨è‡ªåŠ¨æ“ä½œçš„ï¼Œæ²¡æœ‰äººä¸ºå¹²é¢„ï¼Œæ–‡ä»¶ä¸ºä½•ä¼šæ— ç¼˜æ— æ•…æ”¹å˜å‘¢ï¼Ÿ\nç­”æ¡ˆæ˜¯ Cloudflareã€‚ Cloudflare ä¸­é»˜è®¤ä¼šå¼€å¯é™æ€èµ„æºçš„ç¼“å­˜æ¥æé«˜ç½‘ç«™çš„åŠ è½½é€Ÿåº¦ï¼Œå¯æ˜¯ä¸ºä»€ä¹ˆç¼“å­˜ä¼šæ”¹å˜æ–‡ä»¶å‘¢ï¼Ÿç¼“å­˜å¹¶ä¸ä¼šæ”¹å˜æ–‡ä»¶ï¼Œåœ¨ Cloudflare çš„ Speed \u0026gt; Optimization ä¸­æœ‰ä¸€ä¸ªå« Auto Minify çš„é€‰é¡¹ï¼Œæè¿°å¦‚ä¸‹ï¼š\nReduce the file size of source code on your website.\nNote: Purge cache to have your change take effect immediately.","title":"Css Integrity Error When Load Hugo Publish"},{"content":"Introduction VSCode(Visual Studio Code) is a code editor redefined and optimized for building and debugging modern web and cloud applications.\nCode Snippets is a piece of code, the editor will auto complete a specific code when developer type some specific prefixes.\nCustom Code Snippets VSCode has many built-in code snippets, so I won\u0026rsquo;t go into details here, but mainly talk about how to customize code snippets.\nThere are two types of code snippets, one is global and the other is workspace, the difference between them is that the scope and storage location.\nglobal code snippets\nAny file opened by vscode can take effect and is stored in the installation directory.\nworkspace code snippets\nOnly the files in the workspace can take effect and are stored in the .vscode directory of the workspace.\nHow to create custom code snippets? Click File \u0026gt; Preferences \u0026gt; Configure User Snippets.\nClick New Global Snippets file... or New Snippets file for '\u0026lt;your_workspce_name\u0026gt;'....\nCode snippets store as json, Each snippet is defined under a snippet name and has a scope, prefix, body and description:\nscope: A comma separated ids of the languages where the snippet is applicable. If scope is left empty or omitted, the snippet gets applied to all languages prefix: It\u0026rsquo;s used to trigger the snippet and the body will be expanded and inserted. Possible variables are: $1, $2 for tab stops, $0 for the final cursor position, and ${1:label}, ${2:another} for placeholders body: The code description: The description of this code snippet Example:\n{ \u0026#34;scope\u0026#34;: \u0026#34;c\u0026#34;, \u0026#34;prefix\u0026#34;: \u0026#34;smain\u0026#34;, \u0026#34;body\u0026#34;: [ \u0026#34;#include \u0026lt;stdio.h\u0026gt;\u0026#34;, \u0026#34;\u0026#34;, \u0026#34;int main(void)\u0026#34;, \u0026#34;{\u0026#34;, \u0026#34;\\t${1:/* Code here */}\u0026#34;, \u0026#34;\\treturn 0;\u0026#34;, \u0026#34;}\u0026#34; ] } A code snippets can store many code snippets, the root is a Object, a property corresponds to a code snippet\nExample:\n{ \u0026#34;Simple main\u0026#34;: { \u0026#34;scope\u0026#34;: \u0026#34;c\u0026#34;, \u0026#34;prefix\u0026#34;: \u0026#34;smain\u0026#34;, \u0026#34;body\u0026#34;: [ \u0026#34;#include \u0026lt;stdio.h\u0026gt;\u0026#34;, \u0026#34;\u0026#34;, \u0026#34;int main(void)\u0026#34;, \u0026#34;{\u0026#34;, \u0026#34;\\t${1:/* Code here */}\u0026#34;, \u0026#34;\\treturn 0;\u0026#34;, \u0026#34;}\u0026#34; ] }, \u0026#34;Simple main c++\u0026#34;: { \u0026#34;scope\u0026#34;: \u0026#34;cpp\u0026#34;, \u0026#34;prefix\u0026#34;: \u0026#34;smainpp\u0026#34;, \u0026#34;body\u0026#34;: [ \u0026#34;#include \u0026lt;iostream\u0026gt;\u0026#34;, \u0026#34;\u0026#34;, \u0026#34;using namespace std;\u0026#34;, \u0026#34;\u0026#34;, \u0026#34;int main()\u0026#34;, \u0026#34;{\u0026#34;, \u0026#34;\\t${1:/* Code here */}\u0026#34;, \u0026#34;\\treturn 0;\u0026#34;, \u0026#34;}\u0026#34; ] } } Use code snippets\nRemarks Reasonable use of code snippets can greatly improve our coding efficiency\n","permalink":"https://fissssssh.com/posts/code-snippets.in-vscode/","summary":"Introduction VSCode(Visual Studio Code) is a code editor redefined and optimized for building and debugging modern web and cloud applications.\nCode Snippets is a piece of code, the editor will auto complete a specific code when developer type some specific prefixes.\nCustom Code Snippets VSCode has many built-in code snippets, so I won\u0026rsquo;t go into details here, but mainly talk about how to customize code snippets.\nThere are two types of code snippets, one is global and the other is workspace, the difference between them is that the scope and storage location.","title":"Code Snippets in VSCode"},{"content":"ä»¥ä¸‹æ˜¯æˆ‘æœ¬äººå¹³æ—¶å–œæ¬¢ç”¨çš„è½¯ä»¶ï¼Œæ’åä¸åˆ†å…ˆå\nåç§° æè¿° ç±»å‹ 7-Zip å‹ç¼©è½¯ä»¶ desktop Fiddler HTTP æŠ“åŒ…å·¥å…· desktop Git ä»£ç ç®¡ç†è½¯ä»¶ cli,desktop Google Chrome é¡¶çº§æµè§ˆå™¨ desktop MPC-HC è§†é¢‘æ’­æ”¾å™¨ desktop MSI Afterburner æ€§èƒ½ç›‘è§†è¶…é¢‘è½¯ä»¶ desktop MacType Windows å­—ä½“æ¸²æŸ“ desktop OBS Studio æ¨æµå·¥å…· desktop PowerToys Windows å°å·¥å…·é›†åˆ desktop Sourcetree ä»£ç ç®¡ç†è½¯ä»¶ desktop ToDesk è¿œç¨‹æ¡Œé¢å·¥å…· desktop Virtual Audio Cable éŸ³é¢‘ç®¡ç†è½¯ä»¶ desktop Visual Studio Code åƒé¥­çš„å®¶ä¼™ desktop Visual Studio åƒé¥­çš„å®¶ä¼™ desktop Voicemetter Banana éŸ³é¢‘ç®¡ç†è½¯ä»¶ desktop WinHex æ–‡ä»¶æŸ¥çœ‹å·¥å…· desktop WinSCP æ–‡ä»¶å¤åˆ¶å·¥å…· desktop WinaeroTweaker Windows å·¥å…· desktop WireShark ç½‘ç»œæŠ“åŒ…å·¥å…· desktop Wiztree ç£ç›˜åˆ†æå·¥å…· desktop dnSpy .NET åç¼–è¯‘è°ƒè¯•è½¯ä»¶ desktop docker å®¹å™¨ç¯å¢ƒ cli, desktop ffmpeg æµåª’ä½“å¤„ç†å·¥å…· cli hugo é™æ€é¡µé¢æ„å»ºå·¥å…· cli è¿…é›· ä¸‹è½½å·¥å…· desktop ","permalink":"https://fissssssh.com/posts/recommended-software/","summary":"ä»¥ä¸‹æ˜¯æˆ‘æœ¬äººå¹³æ—¶å–œæ¬¢ç”¨çš„è½¯ä»¶ï¼Œæ’åä¸åˆ†å…ˆå\nåç§° æè¿° ç±»å‹ 7-Zip å‹ç¼©è½¯ä»¶ desktop Fiddler HTTP æŠ“åŒ…å·¥å…· desktop Git ä»£ç ç®¡ç†è½¯ä»¶ cli,desktop Google Chrome é¡¶çº§æµè§ˆå™¨ desktop MPC-HC è§†é¢‘æ’­æ”¾å™¨ desktop MSI Afterburner æ€§èƒ½ç›‘è§†è¶…é¢‘è½¯ä»¶ desktop MacType Windows å­—ä½“æ¸²æŸ“ desktop OBS Studio æ¨æµå·¥å…· desktop PowerToys Windows å°å·¥å…·é›†åˆ desktop Sourcetree ä»£ç ç®¡ç†è½¯ä»¶ desktop ToDesk è¿œç¨‹æ¡Œé¢å·¥å…· desktop Virtual Audio Cable éŸ³é¢‘ç®¡ç†è½¯ä»¶ desktop Visual Studio Code åƒé¥­çš„å®¶ä¼™ desktop Visual Studio åƒé¥­çš„å®¶ä¼™ desktop Voicemetter Banana éŸ³é¢‘ç®¡ç†è½¯ä»¶ desktop WinHex æ–‡ä»¶æŸ¥çœ‹å·¥å…· desktop WinSCP æ–‡ä»¶å¤åˆ¶å·¥å…· desktop WinaeroTweaker Windows å·¥å…· desktop WireShark ç½‘ç»œæŠ“åŒ…å·¥å…· desktop Wiztree ç£ç›˜åˆ†æå·¥å…· desktop dnSpy .","title":"è½¯ä»¶æ¨è"}]